<!-- Entire cell-->
<div class="flex flex-row justify-end items-start mx-auto max-w-[72px] w-full h-full gap-2">

<!--  For each time of day-->
  <div *ngFor="let tod of ['morning', 'afternoon', 'evening']" class="w-full h-full flex flex-col justify-start items-center gap-2">


<!--    IF CHECKBOX MODE -->
<!--    <ng-container *ngIf="pillboxMode===PillboxIconMode.CHECKBOX">-->
<!--      <div *ngFor="let i of range();" class="">-->
<!--        <ng-container *ngIf="schedule[tod]>i">-->
<!--          <img *ngIf="schedule[tod]-i!==0.5" ngSrc="/assets/icons/checkbox.svg" alt="[]" height="16" width="16" />-->
<!--          <img *ngIf="schedule[tod]-i===0.5" ngSrc="/assets/icons/checkbox_half.svg" alt="[]" height="16" width="16" />-->
<!--        </ng-container>-->
<!--        <img *ngIf="!(schedule[tod]>i)" ngSrc="/assets/icons/blank.svg" alt="[]" height="16" width="16" />-->
<!--      </div>-->
<!--    </ng-container>-->


<!--    IF DEFAULT MODE L-->
    <ng-container *ngIf="pillboxMode===PillboxIconMode.ICON_DEFAULT">

<!--      ITER MEDICATION FOR THE DAY-->
      <div *ngFor="let i of range();" class="">

        <!--         IF BOX SHOULD BE ICON-->
        <ng-container *ngIf="schedule[tod]>i">

          <!--          MEDICATION IS TABLET-->
          <ng-container *ngIf="uom===MedicineUom.TABLET">
            <img *ngIf="schedule[tod]-i!==0.5" ngSrc="/assets/icons/pill.svg" alt="[]" height="20" width="20" />
            <img *ngIf="schedule[tod]-i===0.5" ngSrc="/assets/icons/pill_half_v4.svg" alt="[]" height="20" width="20" />
          </ng-container>

          <!--          MEDICATION IS SYRUP-->
          <ng-container *ngIf="uom===MedicineUom.SYRUP">
            <img ngSrc="/assets/icons/syrup.svg" alt="[]" height="20" width="20" />
          </ng-container>

          <!--          MEDICATION IS INJECTION-->
          <ng-container *ngIf="uom===MedicineUom.INJECTION">
            <img ngSrc="/assets/icons/injection.svg" alt="[]" height="20" width="20" />
          </ng-container>
        </ng-container>

<!--        IF box should be blank-->
        <ng-container *ngIf="schedule[tod]<=i">
          <img *ngIf="!(schedule[tod]>i)" ngSrc="/assets/icons/blank.svg" alt="[]" height="20" width="20" class="opacity-50"/>
        </ng-container>

      </div>

    </ng-container>


<!--    PILLBOX MODE -->
    <ng-container *ngIf="pillboxMode===PillboxIconMode.ICON_LABELED">

      <!--      ITER MEDICATION FOR THE DAY-->
      <div *ngFor="let i of range();" class="{{i>0?'hidden':''}}">

        <!--         IF BOX SHOULD BE ICON-->
        <ng-container *ngIf="schedule[tod]>i">

          <!--          MEDICATION IS TABLET-->
          <ng-container *ngIf="uom===MedicineUom.TABLET">

            <!--            Only render on first iteration-->
            <ng-container *ngIf="i===0">
              <div class="flex flex-col justify-center items-center p-px rounded-[2px] bg-black overflow-hidden">
                <div class="bg-white rounded-[1px] flex flex-col justify-center items-center">
                  <img ngSrc="/assets/icons/pill.svg" alt="[]" height="14" width="14" />
                </div>
                <span class="font-mono text-white text-[11px] text-center">{{schedule[tod]}}</span>
              </div>
            </ng-container>
          </ng-container>

          <!--          MEDICATION IS SYRUP-->
          <ng-container *ngIf="uom===MedicineUom.SYRUP">
            <img ngSrc="/assets/icons/syrup.svg" alt="[]" height="20" width="20" />
          </ng-container>

          <!--          MEDICATION IS INJECTION-->
          <ng-container *ngIf="uom===MedicineUom.INJECTION">
            <img ngSrc="/assets/icons/injection.svg" alt="[]" height="20" width="20" />
          </ng-container>
        </ng-container>

        <!--        IF box should be blank-->
        <ng-container *ngIf="schedule[tod]<=i">
<!--          <img *ngIf="!(schedule[tod]>i)" ngSrc="/assets/icons/blank.svg" alt="[]" [height]="uom===MedicineUom.TABLET?'28':'16'" width="16" class="opacity-50"/>-->
          <div class="
          bg-black opacity-[12.5%]
          rounded-[2px]
          w-[16px]
          {{uom===MedicineUom.TABLET?'h-[13px]':'h-[13px]'}}
          {{i===0 && uom===MedicineUom.TABLET || uom!==MedicineUom.TABLET?'':'hidden'}}
          "></div>
        </ng-container>

      </div>
    </ng-container>
  </div>
</div>
